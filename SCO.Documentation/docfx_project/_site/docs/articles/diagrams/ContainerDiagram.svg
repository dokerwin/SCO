<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1394px" preserveAspectRatio="none" style="width:2341px;height:1394px;background:#FFFFFF;" version="1.1" viewBox="0 0 2341 1394" width="2341px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="27.6094" id="_title" style="stroke:none;stroke-width:1.0;" width="380" x="973.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="370" x="978.5" y="24.5332">Component diagram for SCO System - API Application</text><!--MD5=[64d6357a5306c4be42b2d72091bb9086]
cluster sco--><g id="cluster_sco"><rect fill="none" height="908.5" rx="2.5" ry="2.5" style="stroke:#444444;stroke-width:1.0;stroke-dasharray:7.0,7.0;" width="1636" x="7" y="282.6094"/><text fill="#444444" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="35" x="807.5" y="301.2188">SCO</text><text fill="#444444" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="51" x="799.5" y="317.1914">[System]</text></g><!--MD5=[036bab9b7faa9e12a05f85127f91f737]
cluster identityBoundary--><g id="cluster_identityBoundary"><rect fill="none" height="400.5" rx="2.5" ry="2.5" style="stroke:#444444;stroke-width:1.0;stroke-dasharray:7.0,7.0;" width="222" x="31" y="766.6094"/><text fill="#444444" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="56" x="114" y="785.2188">Identity</text></g><!--MD5=[f9334061a220c62c21d697cee2550a0d]
cluster servicesBoundary--><g id="cluster_servicesBoundary"><rect fill="none" height="392" rx="2.5" ry="2.5" style="stroke:#444444;stroke-width:1.0;stroke-dasharray:7.0,7.0;" width="1117" x="502" y="757.6094"/><text fill="#444444" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="105" x="1008" y="776.2188">SCO Services</text></g><!--MD5=[33573e971ff506c0f246109ca3fd77bd]
entity spa--><g id="elem_spa"><rect fill="#438DD5" height="143.2656" rx="2.5" ry="2.5" style="stroke:#3C7FC0;stroke-width:0.5;" width="209" x="1276.5" y="336.6094"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="181" x="1290.5" y="363.2188">Single Page Application</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="127" x="1317.5" y="379.1914">[javascript and angular]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1379" y="396.3613"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132" x="1313" y="413.9707">Provides all the retail</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="182" x="1288" y="431.5801">functionality to customers via</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="185" x="1286.5" y="449.1895">the singelpage application on</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="1340.5" y="466.7988">SCO screen.</text></g><!--MD5=[7b30460008fc71f9986330c33ee2d290]
entity gateway--><g id="elem_gateway"><rect fill="#438DD5" height="108.0469" rx="2.5" ry="2.5" style="stroke:#3C7FC0;stroke-width:0.5;" width="219" x="1271.5" y="571.6094"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="96" x="1333" y="598.2188">API Gateway</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="66" x="1348" y="614.1914">[.Net Ocelot]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1379" y="631.3613"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="143" x="1307.5" y="648.9707">Routers all requests to</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="199" x="1281.5" y="666.5801">appropriate services endpoinds</text></g><!--MD5=[dba6d6074aa896215894e7a834d404ca]
entity message_bus--><g id="elem_message_bus"><rect fill="#438DD5" height="108.0469" rx="2.5" ry="2.5" style="stroke:#3C7FC0;stroke-width:0.5;" width="213" x="272.5" y="1021.1094"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="103" x="327.5" y="1047.7188">Message Bus</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="62" x="348" y="1063.6914">[RabbitMQ]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="377" y="1080.8613"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="189" x="282.5" y="1098.4707">Transport for business events</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176" x="291" y="1116.0801">or async request/responses</text></g><!--MD5=[503351863c5fc726a307999443af293d]
entity identityDb--><g id="elem_identityDb"><path d="M47,1009.1094 C47,999.1094 142,999.1094 142,999.1094 C142,999.1094 237,999.1094 237,1009.1094 L237,1141.375 C237,1151.375 142,1151.375 142,1151.375 C142,1151.375 47,1151.375 47,1141.375 L47,1009.1094 " fill="#438DD5" style="stroke:#3C7FC0;stroke-width:0.5;"/><path d="M47,1009.1094 C47,1019.1094 142,1019.1094 142,1019.1094 C142,1019.1094 237,1019.1094 237,1009.1094 " fill="none" style="stroke:#3C7FC0;stroke-width:0.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="72" x="106" y="1039.7188">Database</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="103" x="90.5" y="1055.6914">[MS SQL SERVER]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="140" y="1072.8613"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154" x="63" y="1090.4707">Stores products, cashier</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125" x="77.5" y="1108.0801">information, hashed</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="166" x="57" y="1125.6895">authentication credentials,</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105" x="89.5" y="1143.2988">access logs, etc.</text></g><!--MD5=[753e7f8bcc32372b8dee25ef5d4772d2]
entity indentityService--><g id="elem_indentityService"><rect fill="#438DD5" height="90.4375" rx="2.5" ry="2.5" style="stroke:#3C7FC0;stroke-width:0.5;" width="168" x="58" y="805.6094"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="115" x="84.5" y="832.2188">Identity service</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="136" x="74" y="848.1914">[.Net with ASP.NET Core]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="140" y="865.3613"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148" x="68" y="882.9707">Provide authentitication</text></g><!--MD5=[f1d711b379f3c4851283ad4aac75c020]
entity productDb--><g id="elem_productDb"><path d="M1203.5,1026.6094 C1203.5,1016.6094 1297,1016.6094 1297,1016.6094 C1297,1016.6094 1390.5,1016.6094 1390.5,1026.6094 L1390.5,1123.6563 C1390.5,1133.6563 1297,1133.6563 1297,1133.6563 C1297,1133.6563 1203.5,1133.6563 1203.5,1123.6563 L1203.5,1026.6094 " fill="#438DD5" style="stroke:#3C7FC0;stroke-width:0.5;"/><path d="M1203.5,1026.6094 C1203.5,1036.6094 1297,1036.6094 1297,1036.6094 C1297,1036.6094 1390.5,1036.6094 1390.5,1026.6094 " fill="none" style="stroke:#3C7FC0;stroke-width:0.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="116" x="1239" y="1057.2188">Read Database</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="43" x="1275.5" y="1073.1914">[SQLite]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1295" y="1090.3613"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="163" x="1213.5" y="1107.9707">Stores products only read</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="1260" y="1125.5801">information.</text></g><!--MD5=[ecc07d7fa66b0267766e463598642474]
entity receiptDb--><g id="elem_receiptDb"><path d="M751.5,1035.6094 C751.5,1025.6094 844,1025.6094 844,1025.6094 C844,1025.6094 936.5,1025.6094 936.5,1035.6094 L936.5,1115.0469 C936.5,1125.0469 844,1125.0469 844,1125.0469 C844,1125.0469 751.5,1125.0469 751.5,1115.0469 L751.5,1035.6094 " fill="#438DD5" style="stroke:#3C7FC0;stroke-width:0.5;"/><path d="M751.5,1035.6094 C751.5,1045.6094 844,1045.6094 844,1045.6094 C844,1045.6094 936.5,1045.6094 936.5,1035.6094 " fill="none" style="stroke:#3C7FC0;stroke-width:0.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="72" x="808" y="1066.2188">Database</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="103" x="792.5" y="1082.1914">[MS SQL SERVER]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="842" y="1099.3613"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="165" x="761.5" y="1116.9707">Stores basket inforamtion.</text></g><!--MD5=[abfc54b1d4822d0ca937b75322033aff]
entity shiftDb--><g id="elem_shiftDb"><path d="M1425.5,1035.6094 C1425.5,1025.6094 1510,1025.6094 1510,1025.6094 C1510,1025.6094 1594.5,1025.6094 1594.5,1035.6094 L1594.5,1115.0469 C1594.5,1125.0469 1510,1125.0469 1510,1125.0469 C1510,1125.0469 1425.5,1125.0469 1425.5,1115.0469 L1425.5,1035.6094 " fill="#438DD5" style="stroke:#3C7FC0;stroke-width:0.5;"/><path d="M1425.5,1035.6094 C1425.5,1045.6094 1510,1045.6094 1510,1045.6094 C1510,1045.6094 1594.5,1045.6094 1594.5,1035.6094 " fill="none" style="stroke:#3C7FC0;stroke-width:0.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="72" x="1474" y="1066.2188">Database</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="103" x="1458.5" y="1082.1914">[MS SQL SERVER]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1508" y="1099.3613"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149" x="1435.5" y="1116.9707">Stores shift inforamtion.</text></g><!--MD5=[23ab633a184581e10d24ad28dc5cb0b7]
entity paymentDb--><g id="elem_paymentDb"><path d="M971.5,1035.6094 C971.5,1025.6094 1070,1025.6094 1070,1025.6094 C1070,1025.6094 1168.5,1025.6094 1168.5,1035.6094 L1168.5,1115.0469 C1168.5,1125.0469 1070,1125.0469 1070,1125.0469 C1070,1125.0469 971.5,1125.0469 971.5,1115.0469 L971.5,1035.6094 " fill="#438DD5" style="stroke:#3C7FC0;stroke-width:0.5;"/><path d="M971.5,1035.6094 C971.5,1045.6094 1070,1045.6094 1070,1045.6094 C1070,1045.6094 1168.5,1045.6094 1168.5,1035.6094 " fill="none" style="stroke:#3C7FC0;stroke-width:0.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="72" x="1034" y="1066.2188">Database</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="103" x="1018.5" y="1082.1914">[MS SQL SERVER]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1068" y="1099.3613"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="177" x="981.5" y="1116.9707">Stores payment information.</text></g><!--MD5=[027a864b0f4f89ff11871e87703471f9]
entity productService--><g id="elem_productService"><rect fill="#438DD5" height="108.0469" rx="2.5" ry="2.5" style="stroke:#3C7FC0;stroke-width:0.5;" width="181" x="1186.5" y="796.6094"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="120" x="1217" y="823.2188">Product service</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="136" x="1209" y="839.1914">[.Net with ASP.NET Core]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1275" y="856.3613"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157" x="1196.5" y="873.9707">Responsible for handling</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="1221.5" y="891.5801">products request.</text></g><!--MD5=[4ba4bfd9933daa8c53e757756b7a3517]
entity basketService--><g id="elem_basketService"><rect fill="#438DD5" height="108.0469" rx="2.5" ry="2.5" style="stroke:#3C7FC0;stroke-width:0.5;" width="168" x="771" y="796.6094"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="112" x="799" y="823.2188">Basket service</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="136" x="787" y="839.1914">[.Net with ASP.NET Core]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="853" y="856.3613"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144" x="781" y="873.9707">Responsible for orders</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54" x="828" y="891.5801">handling</text></g><!--MD5=[2d7238ce5e516aac6418a6dc0ca525e0]
entity paymentService--><g id="elem_paymentService"><rect fill="#438DD5" height="90.4375" rx="2.5" ry="2.5" style="stroke:#3C7FC0;stroke-width:0.5;" width="177" x="974.5" y="805.6094"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="126" x="1000" y="832.2188">Payment service</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="136" x="995" y="848.1914">[.Net with ASP.NET Core]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1061" y="865.3613"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157" x="984.5" y="882.9707">Responsible for payment</text></g><!--MD5=[4e2e6fb540f97f53ce49dfa8857255a2]
entity shiftService--><g id="elem_shiftService"><rect fill="#438DD5" height="108.0469" rx="2.5" ry="2.5" style="stroke:#3C7FC0;stroke-width:0.5;" width="200" x="1403" y="796.6094"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="94" x="1456" y="823.2188">Shift service</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="136" x="1435" y="839.1914">[.Net with ASP.NET Core]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1501" y="856.3613"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176" x="1413" y="873.9707">Responsible for shift sarting</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="1467" y="891.5801">and finising</text></g><!--MD5=[4f38f79eb54e32f6b13e0552ca794de6]
entity printerService--><g id="elem_printerService"><rect fill="#438DD5" height="90.4375" rx="2.5" ry="2.5" style="stroke:#3C7FC0;stroke-width:0.5;" width="217" x="518.5" y="805.6094"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="110" x="572" y="832.2188">Printer service</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="136" x="559" y="848.1914">[.Net with ASP.NET Core]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="625" y="865.3613"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="197" x="528.5" y="882.9707">Responsible for printing receipt</text></g><!--MD5=[92848cbaf65985a669855153c5362c37]
entity customer--><g id="elem_customer"><rect fill="#08427B" height="140.9531" rx="2.5" ry="2.5" style="stroke:#073B6F;stroke-width:0.5;" width="217" x="1148.5" y="54.6094"/><image height="48" width="48" x="1233" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAABuUlEQVR42u2Yv0oEMRDGp/QRfIR7BVs7Gx9AH0CwtrtKLNXSRsRSG8HCxkbQVrSykoOrzlILC9v4gwMRNptMMsnu3nHDFMcSLh/f/PsmsrY5HpTLUgHaOri8uHt+eJm8vs/wm8e38fn9aPekB0D7p7df3z+uxYC4sXfWEaD17SPIcAqDreqAQBMgpmnHV091ASm5+W8EtxYgQuCyDF7LA+JPXa5RieUBwbwzWHlAVLIFEB2rMKCk4rK0AC0gZzN9/S8soOnHpwWQvhtpATE4h5XUlrKnIKp06uxCS5poCzs6stvjzuF1XfmRVG4ZkihHMSp5SuXGJGG5LEAVPSIpb4qJfIQzQeF6OMORGXSHbCjLuAb1CYhti7whQHQ5PLrlcHh+kiAyN/RxFE0/9OYvH+dJw33gw/nB4bYa5Ltmokl4MTXqMi+sMFtSfFBEDWoD67bUkPSa+d/Gk3i7i6tvxE4LyLhgGOeu9ELPXzLFAVHJrkNrZreUFfN28S9l1x27upVSLwp5hlIYFqBm8a8ADRxQJIfszy72ZxrpeKxGR6xnltEbupkbXtkpbQsh6ozhV8kDCni1dcT8F2bsoAKLcdt7AAAAAElFTkSuQmCC" y="64.6094"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="75" x="1219.5" y="129.2188">Customer</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1255" y="147.2676"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="189" x="1162.5" y="164.877">A customer of the shop, trying</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109" x="1202.5" y="182.4863">to pay purchases</text></g><!--MD5=[b6c3b30f1dabb7a96cabff3279cd2332]
entity cashier--><g id="elem_cashier"><rect fill="#08427B" height="158.5625" rx="2.5" ry="2.5" style="stroke:#073B6F;stroke-width:0.5;" width="211" x="1400.5" y="45.6094"/><image height="48" width="48" x="1482" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAABuUlEQVR42u2Yv0oEMRDGp/QRfIR7BVs7Gx9AH0CwtrtKLNXSRsRSG8HCxkbQVrSykoOrzlILC9v4gwMRNptMMsnu3nHDFMcSLh/f/PsmsrY5HpTLUgHaOri8uHt+eJm8vs/wm8e38fn9aPekB0D7p7df3z+uxYC4sXfWEaD17SPIcAqDreqAQBMgpmnHV091ASm5+W8EtxYgQuCyDF7LA+JPXa5RieUBwbwzWHlAVLIFEB2rMKCk4rK0AC0gZzN9/S8soOnHpwWQvhtpATE4h5XUlrKnIKp06uxCS5poCzs6stvjzuF1XfmRVG4ZkihHMSp5SuXGJGG5LEAVPSIpb4qJfIQzQeF6OMORGXSHbCjLuAb1CYhti7whQHQ5PLrlcHh+kiAyN/RxFE0/9OYvH+dJw33gw/nB4bYa5Ltmokl4MTXqMi+sMFtSfFBEDWoD67bUkPSa+d/Gk3i7i6tvxE4LyLhgGOeu9ELPXzLFAVHJrkNrZreUFfN28S9l1x27upVSLwp5hlIYFqBm8a8ADRxQJIfszy72ZxrpeKxGR6xnltEbupkbXtkpbQsh6ozhV8kDCni1dcT8F2bsoAKLcdt7AAAAAElFTkSuQmCC" y="55.6094"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="59" x="1476.5" y="120.2188">Cashier</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1504" y="138.2676"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="183" x="1414.5" y="155.877">Shop worker, managing SCO</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="166" x="1421" y="173.4863">settings, helping buyers to</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="1465.5" y="191.0957">finalize order</text></g><!--MD5=[caf83f36d3620b5db28366bd7d249751]
entity mbs--><g id="elem_mbs"><rect fill="#999999" height="92.9531" rx="2.5" ry="2.5" style="stroke:#8A8A8A;stroke-width:0.5;" width="196" x="1659" y="804.1094"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="176" x="1669" y="830.7188">External loyalty system</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1755" y="848.7676"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155" x="1679.5" y="866.377">Stores information about</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151" x="1681.5" y="883.9863">customers loyalty points</text></g><!--MD5=[af13cbfe958140655e044ea749ee809e]
entity nbs--><g id="elem_nbs"><rect fill="#999999" height="92.9531" rx="2.5" ry="2.5" style="stroke:#8A8A8A;stroke-width:0.5;" width="199" x="1890.5" y="804.1094"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="153" x="1913.5" y="830.7188">External NIP system</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1988" y="848.7676"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124" x="1928" y="866.377">Stores all of the NIP</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="179" x="1900.5" y="883.9863">information about customers</text></g><!--MD5=[58179aed62cfb9d63260559659c4ac8e]
entity promExt--><g id="elem_promExt"><rect fill="#999999" height="113.0781" rx="2.5" ry="2.5" style="stroke:#8A8A8A;stroke-width:0.5;" width="210" x="2125" y="794.1094"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="147" x="2154.5" y="820.7188">External Promotion</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="55" x="2202.5" y="840.8438">system</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="2228" y="858.8926"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="182" x="2139" y="876.502">Stores promotion information</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="2182.5" y="894.1113">about products</text></g><!--MD5=[0911620c463c12b6a98a9edacea5960a]
link gateway to basketService--><g id="link_gateway_basketService"><path d="M1271.48,643.0794 C1182.2,659.9894 1055.27,692.1794 957,749.6094 C938.48,760.4394 920.82,775.3694 905.57,790.3894 " fill="none" id="gateway-to-basketService" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="899.62,796.3694,907.3892,792.8142,903.1359,788.5823,899.62,796.3694" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="29" x="1077.5" y="723.0664">Uses</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="118" x="1033" y="738.1602">[async, JSON/HTTPS]</text></g><!--MD5=[1481f6080210bb280cc5d5372d57b2f0]
link gateway to productService--><g id="link_gateway_productService"><path d="M1326.51,679.8994 C1319.09,689.2294 1312.24,699.2794 1307,709.6094 C1294.67,733.9094 1287.4,763.0794 1283.11,788.4794 " fill="none" id="gateway-to-productService" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="1281.82,796.5894,1286.04,789.1602,1280.1145,788.2173,1281.82,796.5894" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="29" x="1352.5" y="723.0664">Uses</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="118" x="1308" y="738.1602">[async, JSON/HTTPS]</text></g><!--MD5=[6ca56e2ff778775550aeb502fa850bbc]
link gateway to mbs--><g id="link_gateway_mbs"><path d="M1490.6,667.8194 C1518.79,679.9394 1548.61,694.1494 1575,709.6094 C1618.87,735.3194 1664.21,770.1594 1698.66,798.6594 " fill="none" id="gateway-to-mbs" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="1704.97,803.9094,1700.7414,796.4852,1696.9024,801.0963,1704.97,803.9094" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="29" x="1627.5" y="723.0664">Read</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="38" x="1623" y="738.1602">[JSON]</text></g><!--MD5=[9226649539d9ebbe89ee82ca50f1236a]
link gateway to nbs--><g id="link_gateway_nbs"><path d="M1490.7,639.2894 C1593.93,654.5494 1750.53,686.4594 1873,749.6094 C1897.43,762.2094 1921.11,780.8194 1940.71,798.5894 " fill="none" id="gateway-to-nbs" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="1946.66,804.0694,1942.8033,796.4453,1938.7412,800.8611,1946.66,804.0694" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="29" x="1853.5" y="723.0664">Read</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="38" x="1849" y="738.1602">[JSON]</text></g><!--MD5=[2b5d3c94485a77827497b4263fb5876c]
link gateway to promExt--><g id="link_gateway_promExt"><path d="M1490.55,627.3894 C1637.46,632.3094 1903.39,654.9994 2107,749.6094 C2128.23,759.4694 2148.93,773.8194 2167.11,788.5894 " fill="none" id="gateway-to-promExt" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="2173.69,794.0394,2169.4427,786.6258,2165.6153,791.2466,2173.69,794.0394" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="29" x="2094.5" y="723.0664">Read</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="38" x="2090" y="738.1602">[JSON]</text></g><!--MD5=[b7f50540257240e84eaf174489c201c5]
link gateway to indentityService--><g id="link_gateway_indentityService"><path d="M1271.36,627.9294 C995.59,632.1594 289,648.8494 203,709.6094 C174.38,729.8294 159.05,766.4994 150.92,797.2394 " fill="none" id="gateway-to-indentityService" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="148.91,805.3194,153.7485,798.2775,147.9252,796.8323,148.91,805.3194" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="29" x="248.5" y="723.0664">Uses</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="118" x="204" y="738.1602">[async, JSON/HTTPS]</text></g><!--MD5=[73ec0183edd140c3497db5f0dfcc77d7]
link gateway to shiftService--><g id="link_gateway_shiftService"><path d="M1413.81,679.8794 C1419.65,689.6994 1425.59,699.9094 1431,709.6094 C1445.35,735.3594 1460.39,764.2594 1472.99,789.0894 " fill="none" id="gateway-to-shiftService" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="1476.65,796.3094,1475.7149,787.8167,1470.3612,790.5256,1476.65,796.3094" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="29" x="1492.5" y="723.0664">Uses</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="118" x="1448" y="738.1602">[async, JSON/HTTPS]</text></g><!--MD5=[e298129022287a1bf2cd5ca806ff43c3]
link productService to productDb--><g id="link_productService_productDb"><path d="M1281.77,904.6194 C1284.56,935.6694 1288.1,975.1394 1291.07,1008.1794 " fill="none" id="productService-to-productDb" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="1291.82,1016.4294,1294.094,1008.1936,1288.118,1008.729,1291.82,1016.4294" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="29" x="1322" y="950.5664">Read</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="97" x="1288" y="965.6602">[async, ADO.NET]</text></g><!--MD5=[04c02145e84f2d74bc9e6ac2103c5877]
link basketService to receiptDb--><g id="link_basketService_receiptDb"><path d="M939.28,893.7394 C967.18,913.8394 987.96,939.8994 974,969.1094 C967.6,982.5094 945.54,1001.9794 921.36,1020.5194 " fill="none" id="basketService-to-receiptDb" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="914.83,1025.4594,923.0179,1023.0184,919.3939,1018.2364,914.83,1025.4594" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="73" x="991" y="950.5664">Read &amp; write</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="97" x="979" y="965.6602">[async, ADO.NET]</text></g><!--MD5=[08d03f49f9971869b70665174c01e9ed]
link paymentService to paymentDb--><g id="link_paymentService_paymentDb"><path d="M1094.75,895.7594 C1102.22,908.4994 1109.13,922.8394 1113,937.1094 C1120.27,963.9294 1113.05,993.3694 1102.59,1018.0594 " fill="none" id="paymentService-to-paymentDb" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="1099.25,1025.5594,1105.2394,1019.4662,1099.7561,1017.0304,1099.25,1025.5594" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="73" x="1128" y="950.5664">Read &amp; write</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="97" x="1116" y="965.6602">[async, ADO.NET]</text></g><!--MD5=[6880b9e096c77dc42fa9def88f45b5cc]
link shiftService to shiftDb--><g id="link_shiftService_shiftDb"><path d="M1504.67,904.6194 C1505.73,938.5394 1507.12,982.5094 1508.21,1017.1594 " fill="none" id="shiftService-to-shiftDb" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="1508.46,1025.3094,1511.2014,1017.2171,1505.2045,1017.4099,1508.46,1025.3094" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="73" x="1519" y="950.5664">Read &amp; write</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="97" x="1507" y="965.6602">[async, ADO.NET]</text></g><!--MD5=[410ab4974d111bbe9dc18b58514554c5]
link indentityService to identityDb--><g id="link_indentityService_identityDb"><path d="M126.45,895.8994 C122.57,908.9994 118.95,923.4794 117,937.1094 C114.5,954.5394 115.45,973.1494 118.09,990.8494 " fill="none" id="indentityService-to-identityDb" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="119.41,998.9094,121.0712,990.5284,115.1508,991.5027,119.41,998.9094" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="29" x="162.5" y="950.5664">Uses</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="118" x="118" y="965.6602">[async, JSON/HTTPS]</text></g><!--MD5=[523d5203b410e3304fb38b8a32538539]
link basketService to message_bus--><g id="link_basketService_message_bus"><path d="M770.89,900.3594 C764.94,902.8794 758.94,905.1694 753,907.1094 C657.95,938.1894 620.68,894.9394 530,937.1094 C528.6,937.7594 483.8,978.4594 443.37,1015.3294 " fill="none" id="basketService-to-message_bus" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="437.44,1020.7294,445.3707,1017.5507,441.3251,1013.1198,437.44,1020.7294" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="29" x="575.5" y="950.5664">Uses</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="118" x="531" y="965.6602">[async, JSON/HTTPS]</text></g><!--MD5=[1f542d38faab28152ed205d9dfc220f1]
link productService to message_bus--><g id="link_productService_message_bus"><path d="M1186.38,901.2194 C1180.59,903.4294 1174.77,905.4294 1169,907.1094 C1030.59,947.4594 976.5,875.8294 846,937.1094 C827.79,945.6594 832.19,960.5294 814,969.1094 C688,1028.5294 634.16,955.0594 502,999.1094 C488.29,1003.6794 474.5,1010.0094 461.36,1017.0694 " fill="none" id="productService-to-message_bus" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="454.14,1021.0594,462.5937,1019.8201,459.6943,1014.5671,454.14,1021.0594" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="29" x="891.5" y="950.5664">Uses</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="118" x="847" y="965.6602">[async, JSON/HTTPS]</text></g><!--MD5=[8f2b68ebf9a4c1e3ad5feda0168bf472]
link paymentService to message_bus--><g id="link_paymentService_message_bus"><path d="M986.84,895.6794 C977.03,900.0994 966.93,904.0694 957,907.1094 C842.82,942.0694 799.07,888.4994 690,937.1094 C670.45,945.8194 673.17,959.5894 654,969.1094 C592.32,999.7294 566.17,974.1294 502,999.1094 C489.34,1004.0394 476.51,1010.2594 464.15,1016.9894 " fill="none" id="paymentService-to-message_bus" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="456.94,1021.0094,465.3875,1019.7291,462.4628,1014.4903,456.94,1021.0094" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="29" x="735.5" y="950.5664">Uses</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="118" x="691" y="965.6602">[async, JSON/HTTPS]</text></g><!--MD5=[a6a096a68c05dd6bd8700cb95d3e410a]
link gateway to message_bus--><g id="link_gateway_message_bus"><path d="M1271.32,632.8494 C1025.28,647.8694 445.83,689.3094 382,749.6094 C311.76,815.9594 334.29,939.0494 356.81,1013.0694 " fill="none" id="gateway-to-message_bus" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="359.27,1020.9694,359.75,1012.4389,354.0225,1014.2267,359.27,1020.9694" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="29" x="427.5" y="848.0664">Uses</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="118" x="383" y="863.1602">[async, JSON/HTTPS]</text></g><!--MD5=[42b93c65b3f191c796391a15b4f37901]
link message_bus to printerService--><g id="link_message_bus_printerService"><path d="M359.48,1021.0194 C352.88,993.1494 351.26,960.1194 370,937.1094 C411.55,886.0794 452.79,928.5594 515,907.1094 C522.01,904.6894 529.14,901.9394 536.23,898.9694 " fill="none" id="message_bus-to-printerService" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="543.91,895.6694,535.3753,896.0673,537.7414,901.5811,543.91,895.6694" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="29" x="415.5" y="950.5664">Uses</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="118" x="371" y="965.6602">[async, JSON/HTTPS]</text></g><!--MD5=[bd88d6d1dc12ceb86e012b5bc0b44400]
link spa to gateway--><g id="link_spa_gateway"><path d="M1381,479.6694 C1381,506.5894 1381,537.0294 1381,563.0494 " fill="none" id="spa-to-gateway" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="1381,571.3294,1384,563.3294,1378,563.3294,1381,571.3294" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="29" x="1425" y="523.0664">Uses</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="115" x="1382" y="538.1602">[async JSON/HTTPS]</text></g><!--MD5=[19223ff220300bf8d927bccd23d50259]
link cashier to spa--><g id="link_cashier_spa"><path d="M1471.01,204.7594 C1453.82,243.4194 1433.14,289.8894 1415.95,328.5394 " fill="none" id="cashier-to-spa" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="1412.56,336.1594,1418.545,330.0619,1413.0599,327.63,1412.56,336.1594" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="29" x="1463" y="248.0664">Uses</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="45" x="1455" y="263.1602">[HTTPS]</text></g><!--MD5=[42bca9335c471dd5687971eddc2ce696]
link customer to spa--><g id="link_customer_spa"><path d="M1287.81,195.9294 C1305.61,236.2594 1328.04,287.0894 1346.43,328.7794 " fill="none" id="customer-to-spa" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="1349.7,336.1794,1349.214,327.6492,1343.725,330.0721,1349.7,336.1794" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="29" x="1328" y="248.0664">Uses</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="45" x="1320" y="263.1602">[HTTPS]</text></g><rect fill="none" height="174.4844" id="_legend" rx="7.5" ry="7.5" style="stroke:none;stroke-width:1.0;" width="144" x="2175" y="1204.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="53" x="2181" y="1226.6426">Legend</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="2234" y="1226.6426"> </text><rect fill="#08427B" height="17.6094" style="stroke:none;stroke-width:1.0;" width="132" x="2181" y="1229.7188"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44" x="2185" y="1244.252">person</text><rect fill="#1168BD" height="17.6094" style="stroke:none;stroke-width:1.0;" width="132" x="2181" y="1247.3281"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44" x="2185" y="1261.8613">system</text><rect fill="#438DD5" height="17.6094" style="stroke:none;stroke-width:1.0;" width="132" x="2181" y="1264.9375"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59" x="2185" y="1279.4707">container</text><rect fill="#85BBF0" height="17.6094" style="stroke:none;stroke-width:1.0;" width="132" x="2181" y="1282.5469"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="2185" y="1297.0801">component</text><rect fill="#686868" height="17.6094" style="stroke:none;stroke-width:1.0;" width="132" x="2181" y="1300.1563"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="2185" y="1314.6895">external person</text><rect fill="#999999" height="17.6094" style="stroke:none;stroke-width:1.0;" width="132" x="2181" y="1317.7656"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="2185" y="1332.2988">external system</text><rect fill="#B3B3B3" height="17.6094" style="stroke:none;stroke-width:1.0;" width="132" x="2181" y="1335.375"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="2185" y="1349.9082">external container</text><rect fill="#CCCCCC" height="17.6094" style="stroke:none;stroke-width:1.0;" width="132" x="2181" y="1352.9844"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124" x="2185" y="1367.5176">external component</text><line style="stroke:#FFFFFF;stroke-width:1.0;" x1="2181" x2="2313" y1="1212.1094" y2="1212.1094"/><line style="stroke:#FFFFFF;stroke-width:1.0;" x1="2181" x2="2313" y1="1229.7188" y2="1229.7188"/><line style="stroke:#FFFFFF;stroke-width:1.0;" x1="2181" x2="2313" y1="1247.3281" y2="1247.3281"/><line style="stroke:#FFFFFF;stroke-width:1.0;" x1="2181" x2="2313" y1="1264.9375" y2="1264.9375"/><line style="stroke:#FFFFFF;stroke-width:1.0;" x1="2181" x2="2313" y1="1282.5469" y2="1282.5469"/><line style="stroke:#FFFFFF;stroke-width:1.0;" x1="2181" x2="2313" y1="1300.1563" y2="1300.1563"/><line style="stroke:#FFFFFF;stroke-width:1.0;" x1="2181" x2="2313" y1="1317.7656" y2="1317.7656"/><line style="stroke:#FFFFFF;stroke-width:1.0;" x1="2181" x2="2313" y1="1335.375" y2="1335.375"/><line style="stroke:#FFFFFF;stroke-width:1.0;" x1="2181" x2="2313" y1="1352.9844" y2="1352.9844"/><line style="stroke:#FFFFFF;stroke-width:1.0;" x1="2181" x2="2313" y1="1370.5938" y2="1370.5938"/><line style="stroke:#FFFFFF;stroke-width:1.0;" x1="2181" x2="2181" y1="1212.1094" y2="1370.5938"/><line style="stroke:#FFFFFF;stroke-width:1.0;" x1="2313" x2="2313" y1="1212.1094" y2="1370.5938"/><!--MD5=[d4a7a9f7341ecf488683db9450f76d47]
@startuml
' convert it with additional command line argument -DRELATIVE_INCLUDE="." to use locally
!if %variable_exists("RELATIVE_INCLUDE")
  !include ./../C4_Component.puml
!else
  !include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Component.puml
!endif

LAYOUT_WITH_LEGEND()

title Component diagram for SCO System - API Application


Person(customer, Customer, "A customer of the shop, trying to pay purchases")
Person(cashier, Cashier, "Shop worker, managing SCO settings, helping buyers to finalize order")

System_Ext(mbs, "External loyalty system", "Stores information about customers loyalty points")
System_Ext(nbs, "External NIP system", "Stores all of the NIP information about customers")
System_Ext(promExt, "External Promotion system", "Stores promotion information about products")
System_Boundary(sco, "SCO"){
    Container(spa, "Single Page Application", "javascript and angular", "Provides all the retail functionality to customers via the singelpage application on SCO screen.")
    Container(gateway, "API Gateway", ".Net Ocelot", "Routers all requests to appropriate services endpoinds")
    Container(message_bus, "Message Bus", "RabbitMQ", "Transport for business events or async request/responses")

    Boundary(identityBoundary, "Identity"){
      ContainerDb(identityDb, "Database", "MS SQL SERVER", "Stores products, cashier information, hashed authentication credentials, access logs, etc.")
      Container(indentityService, "Identity service", ".Net with ASP.NET Core", "Provide authentitication")
    }
    
    Boundary(servicesBoundary, "SCO Services"){
      ContainerDb(productDb, "Read Database", "SQLite", "Stores products only read information.")
      ContainerDb(receiptDb, "Database", "MS SQL SERVER", "Stores basket inforamtion.")
      ContainerDb(shiftDb, "Database", "MS SQL SERVER", "Stores shift inforamtion.")
      ContainerDb(paymentDb, "Database", "MS SQL SERVER", "Stores payment information.")
      Container(productService, "Product service", ".Net with ASP.NET Core", "Responsible for handling products request.")
      Container(basketService, "Basket service", ".Net with ASP.NET Core", "Responsible for orders handling")
      Container(paymentService, "Payment service", ".Net with ASP.NET Core", "Responsible for payment")
      Container(shiftService, "Shift service", ".Net with ASP.NET Core", "Responsible for shift sarting and finising")
      Container(printerService, "Printer service", ".Net with ASP.NET Core", "Responsible for printing receipt")
    }
    
   
    Rel(gateway, basketService, "Uses", "async, JSON/HTTPS")
    
    Rel(gateway, productService, "Uses", "async, JSON/HTTPS")
    Rel(gateway, mbs, "Read", "JSON")
    Rel(gateway, nbs, "Read", "JSON")
    Rel(gateway, promExt, "Read", "JSON")
    Rel(gateway, indentityService, "Uses", "async, JSON/HTTPS")
    Rel(gateway, shiftService, "Uses", "async, JSON/HTTPS")

    Rel(productService, productDb, "Read", "async, ADO.NET")
    Rel(basketService, receiptDb, "Read & write", "async, ADO.NET")
    Rel(paymentService, paymentDb, "Read & write", "async, ADO.NET")
    Rel(shiftService, shiftDb, "Read & write", "async, ADO.NET")
    Rel(indentityService, identityDb, "Uses", "async, JSON/HTTPS")
     
    Rel(basketService, message_bus, "Uses", "async, JSON/HTTPS")
    Rel(productService, message_bus, "Uses", "async, JSON/HTTPS")
    Rel(paymentService, message_bus, "Uses", "async, JSON/HTTPS")
    Rel(gateway, message_bus, "Uses", "async, JSON/HTTPS")
    Rel(message_bus, printerService,  "Uses", "async, JSON/HTTPS")
}

Rel(spa, gateway, "Uses", "async JSON/HTTPS")

Rel(cashier, spa, "Uses", "HTTPS")
Rel(customer, spa, "Uses", "HTTPS")

@enduml

@startuml


















skinparam defaultTextAlignment center

skinparam wrapWidth 200
skinparam maxMessageSize 150

skinparam LegendBorderColor transparent
skinparam LegendBackgroundColor transparent
skinparam LegendFontColor #FFFFFF

skinparam shadowing<<legendArea>> false
skinparam rectangle<<legendArea>> {
    backgroundcolor #00000000
    bordercolor #00000000
}

skinparam rectangle {
    StereotypeFontSize 12
    shadowing false
}

skinparam database {
    StereotypeFontSize 12
    shadowing false
}

skinparam queue {
    StereotypeFontSize 12
    shadowing false
}

skinparam arrow {
    Color #666666
    FontColor #666666
    FontSize 12
}

skinparam person {
    StereotypeFontSize 12
    shadowing false
}

skinparam actor {
    StereotypeFontSize 12
    shadowing false
    style awesome
}

skinparam rectangle<<boundary>> {
    Shadowing false
    StereotypeFontSize 6
    StereotypeFontColor transparent
    BorderStyle dashed
}

skinparam package {
    StereotypeFontSize 6
    StereotypeFontColor transparent
    FontStyle plain
    BackgroundColor transparent
}
























































































skinparam rectangle<<boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam database<<boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam queue<<boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam person<<boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam actor<<boundary>> {
    FontColor transparent
    BackgroundColor transparent
    BorderColor #444444
}
skinparam package<<boundary>>StereotypeFontColor transparent
skinparam rectangle<<boundary>>StereotypeFontColor transparent

skinparam rectangle<<enterprise_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam database<<enterprise_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam queue<<enterprise_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam person<<enterprise_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam actor<<enterprise_boundary>> {
    FontColor transparent
    BackgroundColor transparent
    BorderColor #444444
}
skinparam package<<enterprise_boundary>>StereotypeFontColor transparent
skinparam rectangle<<enterprise_boundary>>StereotypeFontColor transparent


skinparam rectangle<<system_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam database<<system_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam queue<<system_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam person<<system_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam actor<<system_boundary>> {
    FontColor transparent
    BackgroundColor transparent
    BorderColor #444444
}
skinparam package<<system_boundary>>StereotypeFontColor transparent
skinparam rectangle<<system_boundary>>StereotypeFontColor transparent


skinparam rectangle<<container_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam database<<container_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam queue<<container_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam person<<container_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam actor<<container_boundary>> {
    FontColor transparent
    BackgroundColor transparent
    BorderColor #444444
}
skinparam package<<container_boundary>>StereotypeFontColor transparent
skinparam rectangle<<container_boundary>>StereotypeFontColor transparent































skinparam rectangle<<person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #08427B
    BorderColor #073B6F
}
skinparam database<<person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #08427B
    BorderColor #073B6F
}
skinparam queue<<person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #08427B
    BorderColor #073B6F
}
skinparam person<<person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #08427B
    BorderColor #073B6F
}
skinparam actor<<person>> {
    StereotypeFontColor #08427B
    FontColor #08427B
    BackgroundColor #08427B
    BorderColor #073B6F
}

skinparam rectangle<<external_person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #686868
    BorderColor #8A8A8A
}
skinparam database<<external_person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #686868
    BorderColor #8A8A8A
}
skinparam queue<<external_person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #686868
    BorderColor #8A8A8A
}
skinparam person<<external_person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #686868
    BorderColor #8A8A8A
}
skinparam actor<<external_person>> {
    StereotypeFontColor #686868
    FontColor #686868
    BackgroundColor #686868
    BorderColor #8A8A8A
}

skinparam rectangle<<system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #1168BD
    BorderColor #3C7FC0
}
skinparam database<<system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #1168BD
    BorderColor #3C7FC0
}
skinparam queue<<system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #1168BD
    BorderColor #3C7FC0
}
skinparam person<<system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #1168BD
    BorderColor #3C7FC0
}
skinparam actor<<system>> {
    StereotypeFontColor #1168BD
    FontColor #1168BD
    BackgroundColor #1168BD
    BorderColor #3C7FC0
}

skinparam rectangle<<external_system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #999999
    BorderColor #8A8A8A
}
skinparam database<<external_system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #999999
    BorderColor #8A8A8A
}
skinparam queue<<external_system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #999999
    BorderColor #8A8A8A
}
skinparam person<<external_system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #999999
    BorderColor #8A8A8A
}
skinparam actor<<external_system>> {
    StereotypeFontColor #999999
    FontColor #999999
    BackgroundColor #999999
    BorderColor #8A8A8A
}


skinparam rectangle<<enterprise_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam database<<enterprise_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam queue<<enterprise_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam person<<enterprise_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam actor<<enterprise_boundary>> {
    FontColor transparent
    BackgroundColor transparent
    BorderColor #444444
}
skinparam package<<enterprise_boundary>>StereotypeFontColor transparent
skinparam rectangle<<enterprise_boundary>>StereotypeFontColor transparent


skinparam rectangle<<system_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam database<<system_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam queue<<system_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam person<<system_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam actor<<system_boundary>> {
    FontColor transparent
    BackgroundColor transparent
    BorderColor #444444
}
skinparam package<<system_boundary>>StereotypeFontColor transparent
skinparam rectangle<<system_boundary>>StereotypeFontColor transparent






sprite $person [48x48/16] {
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
0000000000000000000049BCCA7200000000000000000000
0000000000000000006EFFFFFFFFB3000000000000000000
00000000000000001CFFFFFFFFFFFF700000000000000000
0000000000000001EFFFFFFFFFFFFFF80000000000000000
000000000000000CFFFFFFFFFFFFFFFF6000000000000000
000000000000007FFFFFFFFFFFFFFFFFF100000000000000
00000000000001FFFFFFFFFFFFFFFFFFF900000000000000
00000000000006FFFFFFFFFFFFFFFFFFFF00000000000000
0000000000000BFFFFFFFFFFFFFFFFFFFF40000000000000
0000000000000EFFFFFFFFFFFFFFFFFFFF70000000000000
0000000000000FFFFFFFFFFFFFFFFFFFFF80000000000000
0000000000000FFFFFFFFFFFFFFFFFFFFF80000000000000
0000000000000DFFFFFFFFFFFFFFFFFFFF60000000000000
0000000000000AFFFFFFFFFFFFFFFFFFFF40000000000000
00000000000006FFFFFFFFFFFFFFFFFFFE00000000000000
00000000000000EFFFFFFFFFFFFFFFFFF800000000000000
000000000000007FFFFFFFFFFFFFFFFFF100000000000000
000000000000000BFFFFFFFFFFFFFFFF5000000000000000
0000000000000001DFFFFFFFFFFFFFF70000000000000000
00000000000000000BFFFFFFFFFFFF500000000000000000
0000000000000000005DFFFFFFFFA1000000000000000000
0000000000000000000037ABB96100000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000025788300000000005886410000000000000
000000000007DFFFFFFD9643347BFFFFFFFB400000000000
0000000004EFFFFFFFFFFFFFFFFFFFFFFFFFFB1000000000
000000007FFFFFFFFFFFFFFFFFFFFFFFFFFFFFD200000000
00000006FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFE10000000
0000003FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB0000000
000000BFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF5000000
000003FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFD000000
000009FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF200000
00000DFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF600000
00000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF800000
00001FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA00000
00001FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB00000
00001FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB00000
00001FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB00000
00001FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA00000
00000EFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF700000
000006FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFE100000
0000008FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFD3000000
000000014555555555555555555555555555555300000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
}

sprite $person2 [48x48/16] {
0000000000000000000049BCCA7200000000000000000000
0000000000000000006EFFFFFFFFB3000000000000000000
00000000000000001CFFFFFFFFFFFF700000000000000000
0000000000000001EFFFFFFFFFFFFFF80000000000000000
000000000000000CFFFFFFFFFFFFFFFF6000000000000000
000000000000007FFFFFFFFFFFFFFFFFF100000000000000
00000000000001FFFFFFFFFFFFFFFFFFF900000000000000
00000000000006FFFFFFFFFFFFFFFFFFFF00000000000000
0000000000000BFFFFFFFFFFFFFFFFFFFF40000000000000
0000000000000EFFFFFFFFFFFFFFFFFFFF70000000000000
0000000000000FFFFFFFFFFFFFFFFFFFFF80000000000000
0000000000000FFFFFFFFFFFFFFFFFFFFF80000000000000
0000000000000DFFFFFFFFFFFFFFFFFFFF60000000000000
0000000000000AFFFFFFFFFFFFFFFFFFFF40000000000000
00000000000006FFFFFFFFFFFFFFFFFFFE00000000000000
00000000000000EFFFFFFFFFFFFFFFFFF800000000000000
000000000000007FFFFFFFFFFFFFFFFFF100000000000000
000000000000000BFFFFFFFFFFFFFFFF5000000000000000
0000000000000001DFFFFFFFFFFFFFF70000000000000000
00000000000000000BFFFFFFFFFFFF500000000000000000
0000000000000000005DFFFFFFFFA1000000000000000000
0000000000000000000037ABB96100000000000000000000
000000000002578888300000000005888864100000000000
0000000007DFFFFFFFFD9643347BFFFFFFFFFB4000000000
00000004EFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB10000000
0000007FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFD2000000
000006FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFE100000
00003FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB00000
0000BFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF50000
0003FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFD0000
0009FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF2000
000DFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF6000
000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF8000
001FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB000
001FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB000
001FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB000
001FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA000
000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF8000
000DFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF6000
0009FFFFFFFF8FFFFFFFFFFFFFFFFFFFFFF8FFFFFFFF2000
0003FFFFFFFF8FFFFFFFFFFFFFFFFFFFFFF8FFFFFFFD0000
0000BFFFFFFF8FFFFFFFFFFFFFFFFFFFFFF8FFFFFFF50000
00003FFFFFFF8FFFFFFFFFFFFFFFFFFFFFF8FFFFFFB00000
000006FFFFFF8FFFFFFFFFFFFFFFFFFFFFF8FFFFFE100000
0000007FFFFF8FFFFFFFFFFFFFFFFFFFFFF8FFFFD2000000
00000004EFFF8FFFFFFFFFFFFFFFFFFFFFF8FFFB10000000
0000000007DF8FFFFFFFFFFFFFFFFFFFFFF8FB4000000000
000000000002578888888888888888888864100000000000
}

sprite $robot [48x48/16] {
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000005BFFFFFFFFFFFFFFFFFFFFFE9100000000000
0000000000AFFFFFFFFFFFFFFFFFFFFFFFFFE30000000000
0000000007FFFFFFFFFFFFFFFFFFFFFFFFFFFE1000000000
000000000FFFFFFFFFFFFFFFFFFFFFFFFFFFFF8000000000
000000004FFFFFFFFFFFFFFFFFFFFFFFFFFFFFC000000000
000000005FFFFFFFFFFFFFFFFFFFFFFFFFFFFFD000000000
000000005FFFFFFFFFFFFFFFFFFFFFFFFFFFFFE000000000
000000005FFFFFFFFFFFFFFFFFFFFFFFFFFFFFE000000000
000699405FFFFFFC427FFFFFFFFFC427FFFFFFE009982000
008FFF705FFFFFE10006FFFFFFFE00007FFFFFE00FFFF100
00CFFF705FFFFFA00001FFFFFFF900002FFFFFE00FFFF500
00DFFF705FFFFFB00002FFFFFFFA00003FFFFFE00FFFF500
00DFFF705FFFFFF4000AFFFFFFFF3000BFFFFFE00FFFF500
00DFFF705FFFFFFFA8DFFFFFFFFFFA8DFFFFFFE00FFFF500
00DFFF705FFFFFFFFFFFFFFFFFFFFFFFFFFFFFE00FFFF500
00DFFF705FFFFFFFFFFFFFFFFFFFFFFFFFFFFFE00FFFF500
00DFFF705FFFFFFFFFFFFFFFFFFFFFFFFFFFFFE00FFFF500
00DFFF705FFFFFFFFFFFFFFFFFFFFFFFFFFFFFE00FFFF500
00DFFF705FFFFFFFFFFFFFFFFFFFFFFFFFFFFFE00FFFF500
00CFFF705FFFFFF87777777777777777CFFFFFE00FFFF500
008FFF705FFFFFF100000000000000009FFFFFE00FFFF100
000699405FFFFFF76666666666666666CFFFFFE009982000
000000005FFFFFFFFFFFFFFFFFFFFFFFFFFFFFE000000000
000000005FFFFFFFFFFFFFFFFFFFFFFFFFFFFFE000000000
000000004FFFFFFFFFFFFFFFFFFFFFFFFFFFFFC000000000
000000000EFFFFFFFFFFFFFFFFFFFFFFFFFFFF7000000000
0000000005FFFFFFFFFFFFFFFFFFFFFFFFFFFD0000000000
00000000004CFFFFFFFFFFFFFFFFFFFFFFFF910000000000
000000000000011111111111111111111110000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
}

sprite $robot2 [48x48/16] {
000000000000000088888888888888880000000000000000
000000000000000AFFFFFFFFFFFFFFFFA000000000000000
00000000000000CFFFFFFFFFFFFFFFFFFC00000000000000
00000000000004EFFFFFFFFFFFFFFFFFFE40000000000000
0000000000000AFFFFFFFFFFFFFFFFFFFFA0000000000000
00000000000008FFFFFFFFFFFFFFFFFFFF80000000000000
00000000000008FFFFFFFFFFFFFFFFFFFF80000000000000
00000000000008FFFFFFFFFFFFFFFFFFFF80000000000000
00000000000888FFFFFFFFFFFFFFFFFFFF88800000000000
00000000008FF8FFFFFFFFFFFFFFFFFFFF8FF80000000000
00000000008FF8FFFFFFFFFFFFFFFFFFFF8FF80000000000
00000000008FF8FFFFFFFFFFFFFFFFFFFF8FF80000000000
00000000008FF8FFFFFFFFFFFFFFFFFFFF8FF80000000000
00000000008FF8FFFFFFFFFFFFFFFFFFFF8FF80000000000
00000000008FF8FFFFFFFFFFFFFFFFFFFF8FF80000000000
00000000000888FFFFFFFFFFFFFFFFFFFF88800000000000
00000000000008FFFFFFFFFFFFFFFFFFFF80000000000000
00000000000008FFFFFFFFFFFFFFFFFFFF80000000000000
00000000000008FFFFFFFFFFFFFFFFFFFF80000000000000
00000000000008FFFFFFFFFFFFFFFFFFFF80000000000000
00000000000008FFFFFFFFFFFFFFFFFFFF80000000000000
00000000000004CFFFFFFFFFFFFFFFFFFC40000000000000
000000488888848CFFFFFFFFFFFFFFFFC848888884000000
00000CFFFFFFFFC888888888888888888CFFFFFFFFC00000
00008FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF80000
0000CFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC0000
0008FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF8000
0008FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF8000
0008FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF8000
0008FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF8000
0008FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF8000
0008FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF8000
0008FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF8000
0008FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF8000
0008FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF8000
0008FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF8000
0008FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF8000
0008FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF8000
0008FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF8000
0008FFFFFFFF8FFFFFFFFFFFFFFFFFFFFFF8FFFFFFFF8000
0008FFFFFFFF8FFFFFFFFFFFFFFFFFFFFFF8FFFFFFFF8000
0008FFFFFFFF8FFFFFFFFFFFFFFFFFFFFFF8FFFFFFFF8000
0008FFFFFFFF8FFFFFFFFFFFFFFFFFFFFFF8FFFFFFFF8000
0000CFFFFFFF8FFFFFFFFFFFFFFFFFFFFFF8FFFFFFFC0000
00008FFFFFFF8FFFFFFFFFFFFFFFFFFFFFF8FFFFFFF80000
00000CFFFFFF8FFFFFFFFFFFFFFFFFFFFFF8FFFFFFC00000
000000488887578888888888888888888864688884000000
000000000000000000000000000000000000000000000000
}




skinparam rectangle<<person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #08427B
    BorderColor #073B6F
}
skinparam database<<person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #08427B
    BorderColor #073B6F
}
skinparam queue<<person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #08427B
    BorderColor #073B6F
}
skinparam person<<person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #08427B
    BorderColor #073B6F
}
skinparam actor<<person>> {
    StereotypeFontColor #08427B
    FontColor #08427B
    BackgroundColor #08427B
    BorderColor #073B6F
}


skinparam rectangle<<external_person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #686868
    BorderColor #8A8A8A
}
skinparam database<<external_person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #686868
    BorderColor #8A8A8A
}
skinparam queue<<external_person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #686868
    BorderColor #8A8A8A
}
skinparam person<<external_person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #686868
    BorderColor #8A8A8A
}
skinparam actor<<external_person>> {
    StereotypeFontColor #686868
    FontColor #686868
    BackgroundColor #686868
    BorderColor #8A8A8A
}

























skinparam rectangle<<container>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #438DD5
    BorderColor #3C7FC0
}
skinparam database<<container>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #438DD5
    BorderColor #3C7FC0
}
skinparam queue<<container>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #438DD5
    BorderColor #3C7FC0
}
skinparam person<<container>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #438DD5
    BorderColor #3C7FC0
}
skinparam actor<<container>> {
    StereotypeFontColor #438DD5
    FontColor #438DD5
    BackgroundColor #438DD5
    BorderColor #3C7FC0
}

skinparam rectangle<<external_container>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #B3B3B3
    BorderColor #A6A6A6
}
skinparam database<<external_container>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #B3B3B3
    BorderColor #A6A6A6
}
skinparam queue<<external_container>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #B3B3B3
    BorderColor #A6A6A6
}
skinparam person<<external_container>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #B3B3B3
    BorderColor #A6A6A6
}
skinparam actor<<external_container>> {
    StereotypeFontColor #B3B3B3
    FontColor #B3B3B3
    BackgroundColor #B3B3B3
    BorderColor #A6A6A6
}


skinparam rectangle<<container_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam database<<container_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam queue<<container_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam person<<container_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam actor<<container_boundary>> {
    FontColor transparent
    BackgroundColor transparent
    BorderColor #444444
}
skinparam package<<container_boundary>>StereotypeFontColor transparent
skinparam rectangle<<container_boundary>>StereotypeFontColor transparent























skinparam rectangle<<component>> {
    StereotypeFontColor #000000
    FontColor #000000
    BackgroundColor #85BBF0
    BorderColor #78A8D8
}
skinparam database<<component>> {
    StereotypeFontColor #000000
    FontColor #000000
    BackgroundColor #85BBF0
    BorderColor #78A8D8
}
skinparam queue<<component>> {
    StereotypeFontColor #000000
    FontColor #000000
    BackgroundColor #85BBF0
    BorderColor #78A8D8
}
skinparam person<<component>> {
    StereotypeFontColor #000000
    FontColor #000000
    BackgroundColor #85BBF0
    BorderColor #78A8D8
}
skinparam actor<<component>> {
    StereotypeFontColor #85BBF0
    FontColor #85BBF0
    BackgroundColor #85BBF0
    BorderColor #78A8D8
}

skinparam rectangle<<external_component>> {
    StereotypeFontColor #000000
    FontColor #000000
    BackgroundColor #CCCCCC
    BorderColor #BFBFBF
}
skinparam database<<external_component>> {
    StereotypeFontColor #000000
    FontColor #000000
    BackgroundColor #CCCCCC
    BorderColor #BFBFBF
}
skinparam queue<<external_component>> {
    StereotypeFontColor #000000
    FontColor #000000
    BackgroundColor #CCCCCC
    BorderColor #BFBFBF
}
skinparam person<<external_component>> {
    StereotypeFontColor #000000
    FontColor #000000
    BackgroundColor #CCCCCC
    BorderColor #BFBFBF
}
skinparam actor<<external_component>> {
    StereotypeFontColor #CCCCCC
    FontColor #CCCCCC
    BackgroundColor #CCCCCC
    BorderColor #BFBFBF
}














hide stereotype
legend right
|<color:#000000>**Legend**</color> |
|<#08427B> person |
|<#1168BD> system |
|<#438DD5> container |
|<#85BBF0> component |
|<#686868> external person |
|<#999999> external system |
|<#B3B3B3> external container |
|<#CCCCCC> external component |
endlegend

title Component diagram for SCO System - API Application


rectangle "<$person>\n== Customer\n\n A customer of the shop, trying to pay purchases" <<person>> as customer 
rectangle "<$person>\n== Cashier\n\n Shop worker, managing SCO settings, helping buyers to finalize order" <<person>> as cashier 

rectangle "== External loyalty system\n\n Stores information about customers loyalty points" <<external_system>> as mbs 
rectangle "== External NIP system\n\n Stores all of the NIP information about customers" <<external_system>> as nbs 
rectangle "== External Promotion system\n\n Stores promotion information about products" <<external_system>> as promExt 
  rectangle "== SCO\n<size:12>[System]</size>" <<system_boundary>><<boundary>> as sco {
    rectangle "== Single Page Application\n//<size:12>[javascript and angular]</size>//\n\nProvides all the retail functionality to customers via the singelpage application on SCO screen." <<container>> as spa 
    rectangle "== API Gateway\n//<size:12>[.Net Ocelot]</size>//\n\nRouters all requests to appropriate services endpoinds" <<container>> as gateway 
    rectangle "== Message Bus\n//<size:12>[RabbitMQ]</size>//\n\nTransport for business events or async request/responses" <<container>> as message_bus 

    rectangle "== Identity" <<boundary>> as identityBoundary {
      database "== Database\n//<size:12>[MS SQL SERVER]</size>//\n\nStores products, cashier information, hashed authentication credentials, access logs, etc." <<container>> as identityDb 
      rectangle "== Identity service\n//<size:12>[.Net with ASP.NET Core]</size>//\n\nProvide authentitication" <<container>> as indentityService 
    }
    
    rectangle "== SCO Services" <<boundary>> as servicesBoundary {
      database "== Read Database\n//<size:12>[SQLite]</size>//\n\nStores products only read information." <<container>> as productDb 
      database "== Database\n//<size:12>[MS SQL SERVER]</size>//\n\nStores basket inforamtion." <<container>> as receiptDb 
      database "== Database\n//<size:12>[MS SQL SERVER]</size>//\n\nStores shift inforamtion." <<container>> as shiftDb 
      database "== Database\n//<size:12>[MS SQL SERVER]</size>//\n\nStores payment information." <<container>> as paymentDb 
      rectangle "== Product service\n//<size:12>[.Net with ASP.NET Core]</size>//\n\nResponsible for handling products request." <<container>> as productService 
      rectangle "== Basket service\n//<size:12>[.Net with ASP.NET Core]</size>//\n\nResponsible for orders handling" <<container>> as basketService 
      rectangle "== Payment service\n//<size:12>[.Net with ASP.NET Core]</size>//\n\nResponsible for payment" <<container>> as paymentService 
      rectangle "== Shift service\n//<size:12>[.Net with ASP.NET Core]</size>//\n\nResponsible for shift sarting and finising" <<container>> as shiftService 
      rectangle "== Printer service\n//<size:12>[.Net with ASP.NET Core]</size>//\n\nResponsible for printing receipt" <<container>> as printerService 
    }
    
   
    gateway - ->> basketService : **Uses**\n//<size:12>[async, JSON/HTTPS]</size>//
    
    gateway - ->> productService : **Uses**\n//<size:12>[async, JSON/HTTPS]</size>//
    gateway - ->> mbs : **Read**\n//<size:12>[JSON]</size>//
    gateway - ->> nbs : **Read**\n//<size:12>[JSON]</size>//
    gateway - ->> promExt : **Read**\n//<size:12>[JSON]</size>//
    gateway - ->> indentityService : **Uses**\n//<size:12>[async, JSON/HTTPS]</size>//
    gateway - ->> shiftService : **Uses**\n//<size:12>[async, JSON/HTTPS]</size>//

    productService - ->> productDb : **Read**\n//<size:12>[async, ADO.NET]</size>//
    basketService - ->> receiptDb : **Read & write**\n//<size:12>[async, ADO.NET]</size>//
    paymentService - ->> paymentDb : **Read & write**\n//<size:12>[async, ADO.NET]</size>//
    shiftService - ->> shiftDb : **Read & write**\n//<size:12>[async, ADO.NET]</size>//
    indentityService - ->> identityDb : **Uses**\n//<size:12>[async, JSON/HTTPS]</size>//
     
    basketService - ->> message_bus : **Uses**\n//<size:12>[async, JSON/HTTPS]</size>//
    productService - ->> message_bus : **Uses**\n//<size:12>[async, JSON/HTTPS]</size>//
    paymentService - ->> message_bus : **Uses**\n//<size:12>[async, JSON/HTTPS]</size>//
    gateway - ->> message_bus : **Uses**\n//<size:12>[async, JSON/HTTPS]</size>//
    message_bus - ->> printerService : **Uses**\n//<size:12>[async, JSON/HTTPS]</size>//
}

spa - ->> gateway : **Uses**\n//<size:12>[async JSON/HTTPS]</size>//

cashier - ->> spa : **Uses**\n//<size:12>[HTTPS]</size>//
customer - ->> spa : **Uses**\n//<size:12>[HTTPS]</size>//

@enduml

PlantUML version 1.2022.7(Mon Aug 22 19:01:30 CEST 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1251
Language: en
Country: US
--></g></svg>